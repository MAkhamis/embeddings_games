<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embeddings Playground - Formula</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Word Embeddings Playground</h1>
        <p>Enter words into the formula to explore vector arithmetic:</p>
        <ul>
            <li><strong>Similarity:</strong> <code>Word_A</code> (find words similar to A)</li>
            <li><strong>Subtraction:</strong> <code>Word_A - Word_B = ?</code> (leave Word C empty)</li>
            <li><strong>Addition:</strong> <code>Word_A + Word_C = ?</code> (leave Word B empty)</li>
            <li><strong>Full Analogy:</strong> <code>Word_A - Word_B + Word_C = ?</code> (fill all three fields)</li>
        </ul>
        <p><strong>How it works:</strong> Each word is represented as a vector of numbers. The formula performs vector arithmetic to find semantically related words.</p>
        
        <div class="formula-input-container">
            <div class="formula-input">
                <input type="text" id="word2" placeholder="Word A (required)" value="king">
                <span class="operator">-</span>
                <input type="text" id="word1" placeholder="Word B (optional)" value="">
                <span class="operator">+</span>
                <input type="text" id="word3" placeholder="Word C (optional)" value="">
                <span class="equals-sign">= ?</span>
            </div>
            <div class="mode-examples">
                <p class="example-text"><strong>Similarity:</strong> <i>king</i> → <i>queen, royal, palace...</i></p>
                <p class="example-text"><strong>Subtraction:</strong> <i>king</i> - <i>man</i> → relationship concepts</p>
                <p class="example-text"><strong>Addition:</strong> <i>king</i> + <i>woman</i> → combined concepts</p>
                <p class="example-text"><strong>Analogy:</strong> <i>king</i> - <i>man</i> + <i>woman</i> → <i>queen</i></p>
            </div>
        </div>
        
        <button id="calculateBtn">Calculate Vector Operation</button>
        
        <div id="operation-info" class="operation-info">
            <p>Current operation: <span id="current-operation">Fill in at least Word A and one other field</span></p>
        </div>
        
        <h2>Results:</h2>
        <div id="results">
            <p>Enter words above and click "Calculate Analogy".</p>
        </div>
        <div id="error" class="error-message"></div>

        <h2>Input Word Embeddings:</h2>
        <div id="embeddings-display">
            <div class="embedding-item">
                <strong>Word A (<span id="embWordA_str"></span>):</strong>
                <textarea id="embWordA_vec" readonly placeholder="Vector will appear here..."></textarea>
            </div>
            <div class="embedding-item">
                <strong>Word B (<span id="embWordB_str"></span>):</strong>
                <textarea id="embWordB_vec" readonly placeholder="Vector will appear here..."></textarea>
            </div>
            <div class="embedding-item">
                <strong>Word C (<span id="embWordC_str"></span>):</strong>
                <textarea id="embWordC_vec" readonly placeholder="Vector will appear here..."></textarea>
            </div>
        </div>

        <h2>Formula Result Vector:</h2>
        <div id="result-vector-display">
            <p><strong>Result of A - B + C:</strong></p>
            <textarea id="resultVector" readonly placeholder="Formula result vector will appear here..."></textarea>
        </div>

        <h2>Distance Analysis:</h2>
        <div id="distance-display">
            <p><strong>Understanding Similarity Metrics:</strong></p>
            <ul>
                <li><strong>Cosine Similarity:</strong> Measures the angle between vectors (0 to 1, higher = more similar)</li>
                <li><strong>Euclidean Distance:</strong> Measures straight-line distance between vectors (lower = more similar)</li>
            </ul>
            <p id="distanceInfo">Click on any result word to see distance calculations.</p>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
